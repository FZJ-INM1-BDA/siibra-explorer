language: node_js

jobs:
  include:

    - stage: frontend
      os: linux
      dist: xenial
      node_js:
      - 10
      - 12
        install:
      - npm i
      script:
      - npm run lint
      - npm test
      env:
      - NODE_ENV=test

    - stage: backend
      os: linux
      dist: xenial
      node_js:
      - 10
      - 12
      install:
      - cd deploy && npm i
      script:
      - cd deploy && npm test
