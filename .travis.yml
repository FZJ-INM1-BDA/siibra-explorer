language: node_js

os: linux
dist: xenial

node_js:
- 10
- 12

jobs:
  include:

    - stage: frontend
      install:
      - npm i
      script:
      - npm run lint
      - npm test
      env:
      - NODE_ENV=test

    - stage: backend
      install:
      - cd deploy && npm i
      script:
      - cd deploy && npm test
