<!-- status + clear all selected regions -->
<div class = "dataBrowserHeader">
  <span id = "selectedRegionSummary">
    {{ selectedRegionsLength == 0 ? 'No ' : selectedRegionsLength }} region{{ selectedRegionsLength == 1 ? '' : 's' }} selected. 
    {{ selectedRegionsLength == 0 ? 'Listing all datasets grouped by associated regions.' : '' }}
  </span>
  <a 
    *ngIf = "selectedRegionsLength > 0"
    class = "btn btn-link" 
    (click)="clearAllSelectedRegions()">
    clear all
  </a>
</div>

<!-- filter -->
<div id = "filter" class = "well">
  <div>
    Filter
  </div>
  <small (click)="toggleEnable(type)" *ngFor = "let type of filterSearchResultbyType">
    <i *ngIf = "type.enabled" class = "glyphicon glyphicon-check"></i>
    <i *ngIf = "!type.enabled" class = "glyphicon glyphicon-unchecked"></i>
    <span>
      {{ type.name }}
    </span>

    <property-widget 
      *ngIf = "getTypeMetadata(type.name)"
      [title] = "'More information on ' + type.name"
      [inputComponent]="getTypeMetadata(type.name)">

    </property-widget >
  </small>
</div>

<!-- collapsable controller -->
<div>
  <a (click)="collapseAll()" class = "btn btn-link">collapse all</a>
  <a (click)="expandAll()" class = "btn btn-link">expand all</a>
</div>

<!-- collapsable for spatial search -->
<collapsable-panel
  *ngIf = "showSpatialSearch"
  [title]="spatialSearchResultPanelTitle">

  <nehubaui-searchresult-ui
    *ngFor = "let searchResultObject of spatialSearchResultObjects"  
    (mouseover) = "mouseoverSpatialSearch(searchResultObject)"
    (mouseout) = "mouseoutSpatialSearch(searchResultObject)"
    [showLinkedRegion] = "false"
    [searchResult]="searchResultObject">
  </nehubaui-searchresult-ui>
  <pagination-component
    [hitsPerPage]="spatialHitsPerPage"
    [total] = "spatialTotal"
    [currentPage]="spatialPagination"
    (paginationChange)="spatialPaginationChange($event)">

  </pagination-component>
  
</collapsable-panel>

<hr *ngIf = "showSpatialSearch" />

<!-- if no regions are selected, display all results, grouped by regions -->
<nehubaui-searchresult-ui-list
  [searchResultObjects]="searchResultObjects"
  [filterSearchResultbyType]="filterSearchResultbyType"
  *ngIf = "renderFullList">

</nehubaui-searchresult-ui-list>

<!-- if regions are selected, display only those selected regions and the datasets -->
<selected-region-list 
  [searchResultObjects]="searchResultObjects"
  [filterSearchResultbyType]="filterSearchResultbyType"
  *ngIf = "renderRegionFilter">
</selected-region-list>