<ul
  [ngClass]="ulClass"
  [ngStyle]="{'opacity': isMobile? '1' : '0.8', 'border-color': darktheme? 'white' : 'black'}"
  role="menu">

  <li
    *ngFor="let input of inputArray; let i = index"
    class="d-flex justify-content-between"
    [ngClass]="checkSelected(selectedItem, input) ? 'selected' : 'notselected'"
    role="menuitem"
    (click)="itemSelected.emit({previous: selectedItem, current: input})">



    <span class="dropdown-item-1 textSpan"
      #DropDownText
      [innerHTML] = "listDisplay(input)"
      [style.fontWeight] = "checkSelected(selectedItem, input)? 'bold' : ''"
      [matTooltip]="overflowText(DropDownText)? DropDownText.innerText: ''">
    </span>

    <span *ngIf="input['properties'] && (input['properties']['publications'] || input['properties']['description'])" class="infoIcon align-self-end" (click)="showToast(i);$event.stopPropagation()">
      i
    </span>

  </li>
</ul>


  <ng-template #publicationTemplate>
    <div *ngIf="chosenItemIndex >= 0">
      <div *ngIf="inputArray[chosenItemIndex]['properties'] && (inputArray[chosenItemIndex]['properties']['publications'] || inputArray[chosenItemIndex]['properties']['description'])">
        <reference-toast-component *ngIf="inputArray[chosenItemIndex]['type'] && inputArray[chosenItemIndex]['type'] === 'template'; else parcellationToast"
          [templateName] = "inputArray[chosenItemIndex]['name'] ? inputArray[chosenItemIndex]['name'] : null"
          [templateDescription] = "inputArray[chosenItemIndex]['properties'] && inputArray[chosenItemIndex]['properties']['description']? inputArray[chosenItemIndex]['properties']['description'] : null"
          [templatePublications] = "inputArray[chosenItemIndex]['properties'] && inputArray[chosenItemIndex]['properties']['publications']? inputArray[chosenItemIndex]['properties']['publications']: null">
        </reference-toast-component>
      
        <ng-template #parcellationToast>
          <reference-toast-component
            [parcellationName] = "inputArray[chosenItemIndex]['name']? inputArray[chosenItemIndex]['name'] : null"
            [parcellationDescription] = "inputArray[chosenItemIndex]['properties'] && inputArray[chosenItemIndex]['properties']['description']? inputArray[chosenItemIndex]['properties']['description'] : null"
            [parcellationPublications] = "inputArray[chosenItemIndex]['properties'] && inputArray[chosenItemIndex]['properties']['publications']? inputArray[chosenItemIndex]['properties']['publications']: null"
            [parcellationNifti] = "inputArray[chosenItemIndex]['properties'] && inputArray[chosenItemIndex]['properties']['nifti']? inputArray[chosenItemIndex]['properties']['nifti'] : null">
          </reference-toast-component>
        </ng-template>
      </div>
    </div>
  </ng-template>

