<ng-container [ngSwitch]="panelMode$ | async">
  <layout-four-panel
    *ngSwitchCase="supportedPanelModes[0]"
    class="d-block w-100 h-100">
    <ng-container cell-i>
      <ng-content *ngTemplateOutlet="celli"></ng-content>
    </ng-container>
    <ng-container cell-ii>
      <ng-content *ngTemplateOutlet="cellii"></ng-content>
    </ng-container>
    <ng-container cell-iii>
      <ng-content *ngTemplateOutlet="celliii"></ng-content>
    </ng-container>
    <ng-container cell-iv>
      <ng-content *ngTemplateOutlet="celliv"></ng-content>
    </ng-container>
  </layout-four-panel>
  <layout-horizontal-one-three
    *ngSwitchCase="supportedPanelModes[1]"
    class="d-block w-100 h-100">
    <ng-container cell-i>
      <ng-content *ngTemplateOutlet="celli"></ng-content>
    </ng-container>
    <ng-container cell-ii>
      <ng-content *ngTemplateOutlet="cellii"></ng-content>
    </ng-container>
    <ng-container cell-iii>
      <ng-content *ngTemplateOutlet="celliii"></ng-content>
    </ng-container>
    <ng-container cell-iv>
      <ng-content *ngTemplateOutlet="celliv"></ng-content>
    </ng-container>
  </layout-horizontal-one-three>
  <layout-vertical-one-three
    *ngSwitchCase="supportedPanelModes[2]"
    class="d-block w-100 h-100">
    <ng-container cell-i>
      <ng-content *ngTemplateOutlet="celli"></ng-content>
    </ng-container>
    <ng-container cell-ii>
      <ng-content *ngTemplateOutlet="cellii"></ng-content>
    </ng-container>
    <ng-container cell-iii>
      <ng-content *ngTemplateOutlet="celliii"></ng-content>
    </ng-container>
    <ng-container cell-iv>
      <ng-content *ngTemplateOutlet="celliv"></ng-content>
    </ng-container>
  </layout-vertical-one-three>
  <layout-single-panel
    *ngSwitchCase="supportedPanelModes[3]"
    class="d-block w-100 h-100">
    <ng-container cell-i>
      <ng-content *ngTemplateOutlet="celli"></ng-content>
    </ng-container>
    <ng-container cell-ii>
      <ng-content *ngTemplateOutlet="cellii"></ng-content>
    </ng-container>
    <ng-container cell-iii>
      <ng-content *ngTemplateOutlet="celliii"></ng-content>
    </ng-container>
    <ng-container cell-iv>
      <ng-content *ngTemplateOutlet="celliv"></ng-content>
    </ng-container>
  </layout-single-panel>
  <div *ngSwitchDefault>
    A panel mode which I have never seen before ...
  </div>
</ng-container>

<ng-template #celli>
  <ng-content select="[cell-i]"></ng-content>
</ng-template>
<ng-template #cellii>
  <ng-content select="[cell-ii]"></ng-content>
</ng-template>
<ng-template #celliii>
  <ng-content select="[cell-iii]"></ng-content>
</ng-template>
<ng-template #celliv>
  <ng-content select="[cell-iv]"></ng-content>
</ng-template>