<!-- header -->

<mat-card class="mat-elevation-z4">

  <div class="sidenav-cover-header-container bg-50-grey-20">
    <mat-card-title>
      <ng-content select="[region-of-interest]"></ng-content>
      <div *ngIf="!loadingFlag; else isLoadingTmpl">
        {{ (detail && detail.src_name) || nameFallback }}
      </div>
    </mat-card-title>

    <mat-card-subtitle class="d-inline-flex align-items-center">
      <mat-icon fontSet="fas" fontIcon="fa-database"></mat-icon>
      <span>
        ebrains regional dataset
      </span>

      <button *ngIf="isGdprProtected"
        [matTooltip]="CONST.GDPR_TEXT"
        mat-icon-button color="warn">
        <i class="fas fa-exclamation-triangle"></i>
      </button>

      <mat-divider [vertical]="true" class="ml-2 h-2rem"></mat-divider>

      <!-- explore btn -->
      <a *ngFor="let kgRef of (detail?.__detail?.kgReference || [])"
        [href]="kgRef | doiParserPipe"
        class="color-inherit"
        mat-icon-button
        [matTooltip]="ARIA_LABELS.EXPLORE_DATASET_IN_KG"
        target="_blank">
        <i class="fas fa-external-link-alt"></i>
      </a>
      
    </mat-card-subtitle>
  </div>

</mat-card>

<!-- description -->

<markdown-dom class="text-muted d-block mat-body m-4" *ngIf="!loadingFlag"
  [markdown]="detail?.__detail?.description || descriptionFallback">
</markdown-dom>

<ng-template #isLoadingTmpl>
  <spinner-cmp></spinner-cmp>
</ng-template>
