<div (iav-outsideClick)="spaceMenuTrigger.closeMenu()">
    <div [style.background-color]="customColor && customColor"
         [matMenuTriggerFor]="spacesMenu"
         #spaceMenuTrigger="matMenuTrigger"
         matRipple
         class="custom-chip layer-chip-overflowed">
    <span class="mat-body sxplr-white-space-nowrap">
      {{ space.shortName }}
    </span>
    </div>

    <mat-menu #spacesMenu="matMenu"
              [hasBackdrop]="false"
              class="parc-smart-chip-menu-panel ml-4">

        <div *ngFor="let spc of spaces">
            <button mat-menu-item
                    (click)="selectSpace(spc)"
                    [style.background-color]="(spc | equality : space : trackByFn) ? 'grey' : ''">
                {{spc.fullName}}</button>
        </div>
    </mat-menu>
</div>