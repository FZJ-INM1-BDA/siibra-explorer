<div class="sxplr-m-2" *ngIf="busy$ | async">
    <spinner-cmp class="sxplr-d-inline-block"></spinner-cmp>
    <span>
        Loading assignment ...
    </span>
</div>

<ng-template [ngIf]="df$ | async" let-df>
    <button mat-raised-button
        class="sxplr-m-2"
        (click)="openDialog(datatableTmpl)">
        Show Assignment ({{ df.data.length }})
    </button>
</ng-template>

<ng-template #datatableTmpl>
    <h2 mat-dialog-title>Assignment</h2>
    <mat-dialog-content>
        <table mat-table [dataSource]="df$ | async | dfToDs">
            <ng-container *ngFor="let column of columns$ | async"
                [matColumnDef]="column">
                <th mat-header-cell *matHeaderCellDef>
                    {{ column }}
                </th>
                <td mat-cell *matCellDef="let element">
                    {{ element[column] | prettyPresent }}
                </td>
            </ng-container>
        
            <tr mat-header-row *matHeaderRowDef="columns$ | async"></tr>
            <tr mat-row *matRowDef="let row; columns: columns$ | async;"></tr>
        </table>
    </mat-dialog-content>
    <mat-dialog-actions align="center">
        <button mat-button mat-dialog-close>Close</button>
      </mat-dialog-actions>
</ng-template>
