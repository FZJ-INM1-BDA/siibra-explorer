<logo-container *ngIf="!isMobile">
</logo-container>

<div
  *ngIf="false"
  [ngClass]="isMobile ? 'btnWrapper-lg' : ''"
  class="btnWrapper">
  <div
    [tooltip]="dataBrowserTitle"
    placement="right"
    (click)="clickSearch($event)"
    [ngClass]="databrowserIsShowing ? 'btn-primary' : 'btn-secondary'"
    class="shadow btn btn-sm rounded-circle">
    <i class="fas fa-search">
      
    </i>
  </div>
</div>

<div
  [ngClass]="isMobile ? 'btnWrapper-lg' : ''"
  class="btnWrapper">
  <div
    tooltip="Layer"
    placement="right"
    (click)="clickLayer($event)"
    [ngClass]="layerbrowserIsShowing ? 'btn-primary' : 'btn-secondary'"
    class="shadow btn btn-sm rounded-circle">
    <i class="fas fa-layer-group">
      
    </i>
  </div>
</div>

<div
  *ngIf="false"
  [ngClass]="isMobile ? 'btnWrapper-lg' : ''"
  class="btnWrapper">
  <div
    tooltip="Plugins"
    (click)="clickPlugins($event)"
    placement="right"
    [ngClass]="pluginbrowserIsShowing ? 'btn-primary' : 'btn-secondary'"
    class="shadow btn btn-sm rounded-circle">
    <i class="fas fa-tools">
      
    </i>
  </div>
</div>

<div
  *ngFor="let manifest of pluginServices.fetchedPluginManifests"
  [tooltip]="manifest.displayName || manifest.name"
  placement="right"
  [ngClass]="isMobile ? 'btnWrapper-lg' : ''"
  class="btnWrapper">

  <div
    (click)="pluginServices.launchPlugin(manifest).catch(catchError)"
    [ngClass]="!pluginServices.launchedPlugins.has(manifest.name) ? 'btn-outline-secondary' : pluginServices.pluginMinimised(manifest) ? 'btn-outline-info' : 'btn-info'"
    class="shadow btn btn-sm rounded-circle">
    {{ (manifest.displayName || manifest.name).slice(0, 1) }}
  </div>
</div>

<div
  *ngFor="let manifest of pluginServices.orphanPlugins"
  [tooltip]="manifest.displayName || manifest.name"
  placement="right"
  [ngClass]="isMobile ? 'btnWrapper-lg' : ''"
  class="btnWrapper">

  <div
    (click)="pluginServices.launchPlugin(manifest).catch(catchError)"
    [ngClass]="pluginServices.pluginMinimised(manifest) ? 'btn-outline-info' : 'btn-info'"
    class="shadow btn btn-sm rounded-circle">
    {{ (manifest.displayName || manifest.name).slice(0, 1) }}
  </div>
</div>

<div
  *ngFor="let wu of dbService.instantiatedWidgetUnits"
  [ngClass]="isMobile ? 'btnWrapper-lg' : ''"
  placement="right"
  [tooltip]="wu.title"
  class="btnWrapper">
  <div
    (click)="widgetServices.minimisedWindow.delete(wu)"
    [ngClass]="widgetServices.minimisedWindow.has(wu) ? 'btn-outline-info' : 'btn-info'"
    class="shadow btn btn-sm rounded-circle">
    <i class="fas fa-search"></i>
  </div>
</div>

<div *ngIf="!isMobile && selectedRegions">

  <button mat-button #selectedRegionsMenuOpener [matMenuTriggerFor]="regionMenu" id="selectedRegionsMenuOpener" style="display:none;"></button>
  <button *ngIf="selectedRegions.length > 0"
          #selectedRegionsButton
          mat-mini-fab color="primary"
          class="search-fab"
          (click)="opensearchMenu()"
          [tooltip]="'Selected regions'" placement="right">
    <i class="fas fa-registered"></i>
  </button>

  <mat-menu #regionMenu="matMenu">
    <div class = "matMenuContainer">
      <div class="container-fluid text-right"><span (click)="clearSelectedRegions()" class="removeSelectedRegionIcon">Clear</span></div>
        <pill-component
                (click)="regionClicked(sr); selectedRegions.length > 0? $event.stopPropagation() : null"
                [containerStyle]="{backgroundColor:'rgba(128,128,128,0.5)'}"
                [closeBtnStyle]="{backgroundColor:'rgba(128,128,128,0.8)'}"
                (closeClicked)="removeRegionFromSelectedList(sr)"
                [title]="sr.name"
                *ngFor="let sr of selectedRegions">
        </pill-component>
    </div>
  </mat-menu>

</div>

<div *ngIf="isMobile">
  <div
          *ngFor="let wu of dbService.instantiatedWidgetUnits"
          [ngClass]="isMobile ? 'btnWrapper-lg' : ''"
          placement="right"
          [tooltip]="wu.title"
          class="btnWrapper">
    <div
            (click)="widgetServices.minimisedWindow.delete(wu)"
            [ngClass]="widgetServices.minimisedWindow.has(wu) ? 'btn-outline-info' : 'btn-info'"
            class="shadow btn btn-sm rounded-circle">
      <i class="fas fa-search"></i>
    </div>
  </div>

</div>